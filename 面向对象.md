**工厂模式：**

```go
type cat struct {
    Name string
    age  int
}

// 工厂模式
// 当cat首字母小写可以创建一个函数用来初始化并返回一个实例的地址，首字母大写
func NewCat(n string, a int) *cat {
    return &cat{n, a}
}

// age小写不可访问时可以使用方法进行访问
func (c *cat) GetAge() int {
    return c.age
}
//
func (c *Cat) SetAge(age int) {
    c.Age=age
}
```



**封装：**

将结构体属性首字母小写，写一个工厂模式函数，提供get，set方法。

**结构体嵌套：**

```go
type Cat struct {
    Name string
    age  int
}
// 继承
type Dog struct {
    Cat
    eat string
}
```

```go
type A struct {
    Name string
    age  int
}

func (a A) SayHello() {
    fmt.Println("Hello")
}

type B struct {
    A
}

func main() {
    b := B{}
    b.A.Name = "tom"
    b.age = 78 //当继承的匿名结构体时，可以直接跳过A，简化
    b.SayHello()	//直接通过b访问属性时，编译器会先看b的属性里面有没有该属性例如age，有则就近调用，无则去看B嵌入的匿名结构体A有没有该属性，以此类推，如果都找不到就报错

}
```



**多重嵌套:**

当**一个结构体嵌入两个或多个匿名结构体**时，如果两个匿名结构体有相同的字段和方法（*同时结构体本身没有同名的字段和方法*），在访问时，就必须明确指定匿名结构体名字，否则报错。

![image-20250914144859505](C:\Users\16053\AppData\Roaming\Typora\typora-user-images\image-20250914144859505.png)

![image-20250914144918382](C:\Users\16053\AppData\Roaming\Typora\typora-user-images\image-20250914144918382.png)

必须使用`b.A.Name`或者`b.C.Name`

当嵌套的是匿名结构体指针的时候，初始化应该指定地址

```go
type B struct {
    *A
    *C
}
b3 := B{&A{"jack", 12}, &C{"fuhang", 23}}
```





**组合：**

当嵌入的是有名结构体时

```go
type B struct {
    a A
    c C
}
```

必须使用`b.a.Name`或者`b.c.Name`形式调用





